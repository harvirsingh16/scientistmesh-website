1|<!DOCTYPE html>
2|<html lang="en">
3|<head>
4|    <meta charset="utf-8">
5|    <meta name="viewport" content="width=device-width, initial-scale=1">
6|    <title>ScientistMesh - AI Job Matching for Certified Professionals</title>
7|    <meta name="description" content="ScientistMesh - AI-powered job matching platform for certified professionals. Find high-paying jobs with Red Seal certifications, licensed trades, and location-based safety features.">
8|    
9|    <!-- SEO Meta Tags -->
10|    <meta name="keywords" content="red seal jobs, licensed electrician jobs, certified plumber jobs, skilled trades, HVAC jobs, welding jobs, AI job matching, location tracking jobs, emergency safety jobs, professional certifications, trade jobs Canada, skilled worker jobs">
11|    <meta name="author" content="ScientistMesh">
12|    <meta name="robots" content="index, follow">
13|    
14|    <!-- Social Media Meta Tags -->
15|    <meta property="og:type" content="website">
16|    <meta property="og:url" content="https://scientistmesh.com/">
17|    <meta property="og:title" content="ScientistMesh - AI Job Matching for Certified Professionals">
18|    <meta property="og:description" content="Find high-paying jobs with Red Seal certifications and licensed trades. AI-powered matching with location safety features. Join thousands earning $8-20/hour more!">
19|    <meta property="og:site_name" content="ScientistMesh">
20|    
21|    <!-- Tailwind CSS -->
22|    <script src="https://cdn.tailwindcss.com"></script>
23|    
24|    <!-- React & ReactDOM -->
25|    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
26|    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
27|    
28|    <!-- Axios for API calls -->
29|    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
30|    
31|    <!-- Lucide Icons (React component) -->
32|    <script src="https://unpkg.com/lucide-react@latest/dist/umd/lucide-react.js"></script>
33|    
34|    <style>
35|        /* Custom styles for better animations and gradients */
36|        @keyframes float {
37|            0%, 100% { transform: translateY(0px); }
38|            50% { transform: translateY(-20px); }
39|        }
40|        .float-animation { animation: float 3s ease-in-out infinite; }
41|        
42|        @keyframes gradient {
43|            0%, 100% { background-position: 0% 50%; }
44|            50% { background-position: 100% 50%; }
45|        }
46|        .gradient-animation { 
47|            background: linear-gradient(-45deg, #1e3a8a, #3730a3, #7c2d12, #1e40af);
48|            background-size: 400% 400%;
49|            animation: gradient 15s ease infinite;
50|        }
51|    </style>
52|</head>
53|<body>
54|    <div id="root">
55|        <!-- Loading Screen -->
56|        <div class="min-h-screen gradient-animation flex items-center justify-center">
57|            <div class="text-center text-white">
58|                <div class="mb-8">
59|                    <div class="w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto"></div>
60|                </div>
61|                <h1 class="text-4xl font-bold mb-4">ScientistMesh</h1>
62|                <p class="text-xl opacity-90">AI-Powered Job Matching for Certified Professionals</p>
63|                <p class="text-sm opacity-75 mt-4">Loading complete application with authentication...</p>
64|            </div>
65|        </div>
66|    </div>
67|
68|    <script>
69|        // Configuration
70|        const BACKEND_URL = 'https://scientistmesh.preview.emergentagent.com/api';
71|        
72|        // Authentication state
73|        let currentUser = null;
74|        let authToken = localStorage.getItem('token');
75|        
76|        if (authToken) {
77|            try {
78|                const userData = localStorage.getItem('user');
79|                currentUser = userData ? JSON.parse(userData) : null;
80|            } catch (e) {
81|                localStorage.removeItem('token');
82|                localStorage.removeItem('user');
83|            }
84|        }
85|
86|        // Main App Component
87|        const App = () => {
88|            const [loading, setLoading] = React.useState(true);
89|            const [user, setUser] = React.useState(currentUser);
90|            const [showAuthModal, setShowAuthModal] = React.useState(false);
91|            const [authMode, setAuthMode] = React.useState('login');
92|            const [showAIChat, setShowAIChat] = React.useState(false);
93|
94|            React.useEffect(() => {
95|                // Simulate app loading
96|                setTimeout(() => {
97|                    setLoading(false);
98|                }, 2000);
99|            }, []);
100|
101|            const handleAuthSuccess = (authData) => {
102|                setUser(authData.user);
103|                localStorage.setItem('token', authData.access_token);
104|                localStorage.setItem('user', JSON.stringify(authData.user));
105|                setShowAuthModal(false);
106|                
107|                // Show welcome message
108|                if (authData.message) {
109|                    setTimeout(() => alert(authData.message), 500);
110|                }
111|            };
112|
113|            const handleLogout = () => {
114|                localStorage.removeItem('token');
115|                localStorage.removeItem('user');
116|                setUser(null);
117|                window.location.reload();
118|            };
119|
120|            if (loading) {
121|                return React.createElement('div', { 
122|                    className: "min-h-screen gradient-animation flex items-center justify-center" 
123|                }, 
124|                    React.createElement('div', { className: "text-center text-white" }, [
125|                        React.createElement('div', { className: "mb-8", key: "spinner" }, 
126|                            React.createElement('div', { className: "w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto" })
127|                        ),
128|                        React.createElement('h1', { className: "text-4xl font-bold mb-4", key: "title" }, "ScientistMesh"),
129|                        React.createElement('p', { className: "text-xl opacity-90", key: "subtitle" }, "AI-Powered Job Matching for Certified Professionals"),
130|                        React.createElement('p', { className: "text-sm opacity-75 mt-4", key: "loading-text" }, "Loading complete application with authentication...")
131|                    ])
132|                );
133|            }
134|
135|            return React.createElement('div', { className: "min-h-screen bg-gray-50" }, [
136|                // Header
137|                React.createElement(Header, { 
138|                    key: "header", 
139|                    user: user, 
140|                    onLogin: () => { setAuthMode('login'); setShowAuthModal(true); },
141|                    onRegister: () => { setAuthMode('register'); setShowAuthModal(true); },
142|                    onLogout: handleLogout
143|                }),
144|                
145|                // Main Content
146|                React.createElement('main', { key: "main" }, [
147|                    React.createElement(HeroSection, { 
148|                        key: "hero", 
149|                        user: user,
150|                        onGetStarted: () => user ? setShowAIChat(true) : setShowAuthModal(true)
151|                    }),
152|                    React.createElement(FeaturesSection, { key: "features" }),
153|                    React.createElement(StatusSection, { key: "status" })
154|                ]),
155|                
156|                // Footer
157|                React.createElement(Footer, { key: "footer" }),
158|                
159|                // Auth Modal
160|                showAuthModal && React.createElement(AuthModal, {
161|                    key: "auth-modal",
162|                    mode: authMode,
163|                    onClose: () => setShowAuthModal(false),
164|                    onSuccess: handleAuthSuccess,
165|                    onSwitchMode: (mode) => setAuthMode(mode)
166|                }),
167|                
168|                // AI Chat Modal
169|                showAIChat && React.createElement(AIChatModal, {
170|                    key: "ai-chat",
171|                    user: user,
172|                    onClose: () => setShowAIChat(false)
173|                })
174|            ]);
175|        };
176|
177|        // Header Component
178|        const Header = ({ user, onLogin, onRegister, onLogout }) => {
179|            return React.createElement('header', { className: "bg-white shadow-sm border-b sticky top-0 z-50" },
180|                React.createElement('div', { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8" },
181|                    React.createElement('div', { className: "flex justify-between items-center py-4" }, [
182|                        // Logo
183|                        React.createElement('div', { className: "flex items-center", key: "logo" }, [
184|                            React.createElement('h1', { className: "text-2xl font-bold text-blue-600" }, "ScientistMesh"),
185|                            React.createElement('span', { className: "ml-2 px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full" }, "LIVE")
186|                        ]),
187|                        
188|                        // Navigation
189|                        React.createElement('div', { className: "flex items-center space-x-4", key: "nav" }, 
190|                            user ? [
191|                                React.createElement('span', { className: "text-gray-700", key: "welcome" }, `Welcome, ${user.full_name || user.email}`),
192|                                React.createElement('button', { 
193|                                    key: "profile",
194|                                    className: "text-blue-600 hover:text-blue-700 font-medium",
195|                                    onClick: () => alert('Profile page coming soon!')
196|                                }, "Profile"),
197|                                React.createElement('button', { 
198|                                    key: "logout",
199|                                    className: "bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-md transition-colors",
200|                                    onClick: onLogout
201|                                }, "Logout")
202|                            ] : [
203|                                React.createElement('button', { 
204|                                    key: "login",
205|                                    className: "text-blue-600 hover:text-blue-700 font-semibold",
206|                                    onClick: onLogin
207|                                }, "Sign In"),
208|                                React.createElement('button', { 
209|                                    key: "register",
210|                                    className: "bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md font-semibold transition-colors",
211|                                    onClick: onRegister
212|                                }, "Join Now")
213|                            ]
214|                        )
215|                    ])
216|                )
217|            );
218|        };
219|
220|        // Hero Section Component
221|        const HeroSection = ({ user, onGetStarted }) => {
222|            return React.createElement('section', { className: "gradient-animation text-white py-20" },
223|                React.createElement('div', { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center" }, [
224|                    React.createElement('h1', { 
225|                        className: "text-5xl md:text-6xl font-bold mb-6 float-animation",
226|                        key: "title"
227|                    }, "AI-Powered Job Matching for Certified Professionals"),
228|                    
229|                    React.createElement('p', { 
230|                        className: "text-xl md:text-2xl mb-8 opacity-90 max-w-4xl mx-auto",
231|                        key: "subtitle"
232|                    }, "Find high-paying jobs with Red Seal certifications and licensed trades. Join thousands earning $8-20/hour more with AI-powered matching."),
233|                    
234|                    React.createElement('div', { className: "flex flex-col sm:flex-row gap-4 justify-center", key: "buttons" }, [
235|                        React.createElement('button', {
236|                            className: "bg-white text-blue-600 px-8 py-4 rounded-lg text-lg font-bold hover:bg-gray-100 transition-all transform hover:scale-105 shadow-lg",
237|                            onClick: onGetStarted,
238|                            key: "get-started"
239|                        }, user ? "Start AI Job Search" : "Get Started Free"),
240|                        
241|                        React.createElement('button', {
242|                            className: "border-2 border-white text-white px-8 py-4 rounded-lg text-lg font-semibold hover:bg-white hover:text-blue-600 transition-all",
243|                            onClick: () => alert('ðŸ¤– AI Discovery Chat coming soon!\\n\\nDiscover how to monetize your skills:\\nâ€¢ Electrician â†’ $35-45/hour\\nâ€¢ Plumber â†’ $30-40/hour\\nâ€¢ Welder â†’ $25-35/hour\\nâ€¢ HVAC Tech â†’ $28-38/hour'),
244|                            key: "learn-more"
245|                        }, "Try AI Discovery")
246|                    ])
247|                ])
248|            );
249|        };
250|
251|        // Features Section Component
252|        const FeaturesSection = () => {
253|            const features = [
254|                {
255|                    icon: "ðŸŽ¯",
256|                    title: "AI Job Matching",
257|                    description: "Triple-AI system matches you with certified jobs based on your skills, location, and Red Seal certifications."
258|                },
259|                {
260|                    icon: "ðŸ†", 
261|                    title: "Red Seal Certified",
262|                    description: "Verified Red Seal and licensed trade certifications earn you $8-20/hour more with priority job placement."
263|                },
264|                {
265|                    icon: "ðŸ“±",
266|                    title: "Safety & GPS", 
267|                    description: "Real-time GPS tracking, emergency alerts, and safety features designed for trade professionals."
268|                },
269|                {
270|                    icon: "ðŸ’¬",
271|                    title: "Real-time Messaging",
272|                    description: "Instant communication with employers, file sharing, and professional networking tools."
273|                },
274|                {
275|                    icon: "ðŸ’³",
276|                    title: "Secure Payments",
277|                    description: "Stripe-powered payment processing, escrow services, and membership tiers for premium features."
278|                },
279|                {
280|                    icon: "âœ‰ï¸",
281|                    title: "Email Verification",
282|                    description: "Secure account verification with 2-minute email codes powered by SendGrid for reliable delivery."
283|                }
284|            ];
285|
286|            return React.createElement('section', { className: "py-20 bg-white" },
287|                React.createElement('div', { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8" }, [
288|                    React.createElement('div', { className: "text-center mb-16", key: "header" }, [
289|                        React.createElement('h2', { className: "text-4xl font-bold text-gray-900 mb-4" }, "Complete Professional Platform"),
290|                        React.createElement('p', { className: "text-xl text-gray-600 max-w-3xl mx-auto" }, "Everything you need to find better jobs, earn more, and advance your career as a certified professional.")
291|                    ]),
292|                    
293|                    React.createElement('div', { className: "grid md:grid-cols-2 lg:grid-cols-3 gap-8", key: "features" },
294|                        features.map((feature, index) =>
295|                            React.createElement('div', { 
296|                                className: "bg-gray-50 p-6 rounded-lg hover:shadow-lg transition-shadow",
297|                                key: index
298|                            }, [
299|                                React.createElement('div', { 
300|                                    className: "text-4xl mb-4",
301|                                    key: "icon"
302|                                }, feature.icon),
303|                                React.createElement('h3', { 
304|                                    className: "text-xl font-semibold mb-2 text-gray-900",
305|                                    key: "title"
306|                                }, feature.title),
307|                                React.createElement('p', { 
308|                                    className: "text-gray-600",
309|                                    key: "description"
310|                                }, feature.description)
311|                            ])
312|                        )
313|                    )
314|                ])
315|            );
316|        };
317|
318|        // Status Section Component
319|        const StatusSection = () => {
320|            return React.createElement('section', { className: "py-20 bg-gradient-to-r from-green-50 to-blue-50" },
321|                React.createElement('div', { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center" }, [
322|                    React.createElement('div', { className: "bg-white rounded-lg shadow-lg p-8 max-w-4xl mx-auto", key: "status-card" }, [
323|                        React.createElement('h2', { className: "text-3xl font-bold text-green-800 mb-4", key: "title" }, "ðŸŽ‰ ScientistMesh is LIVE!"),
324|                        React.createElement('p', { className: "text-lg text-green-700 mb-6", key: "subtitle" }, "Successfully deployed with complete authentication system and backend integration."),
325|                        
326|                        React.createElement('div', { className: "grid md:grid-cols-2 gap-6 text-left", key: "status-grid" }, [
327|                            React.createElement('div', { className: "bg-green-50 p-4 rounded-lg", key: "backend" }, [
328|                                React.createElement('h4', { className: "font-bold text-green-800 mb-2" }, "âœ… Backend: 87.5% Ready"),
329|                                React.createElement('ul', { className: "text-sm text-green-700 space-y-1" }, [
330|                                    React.createElement('li', { key: "ai" }, "â€¢ AI Chat Integration (GPT-4o-mini)"),
331|                                    React.createElement('li', { key: "auth" }, "â€¢ User Authentication & Email Verification"),
332|                                    React.createElement('li', { key: "payment" }, "â€¢ Stripe Payment Integration"),
333|                                    React.createElement('li', { key: "msg" }, "â€¢ Real-time Messaging System"),
334|                                    React.createElement('li', { key: "gps" }, "â€¢ GPS & Emergency Features"),
335|                                    React.createElement('li', { key: "cert" }, "â€¢ Professional Certification System")
336|                                ])
337|                            ]),
338|                            
339|                            React.createElement('div', { className: "bg-blue-50 p-4 rounded-lg", key: "frontend" }, [
340|                                React.createElement('h4', { className: "font-bold text-blue-800 mb-2" }, "âœ… Frontend: Complete"),
341|                                React.createElement('ul', { className: "text-sm text-blue-700 space-y-1" }, [
342|                                    React.createElement('li', { key: "react" }, "â€¢ React 18 Application"),
343|                                    React.createElement('li', { key: "auth" }, "â€¢ Full Authentication System"),
344|                                    React.createElement('li', { key: "email" }, "â€¢ Email Verification (2-min timer)"),
345|                                    React.createElement('li', { key: "domain" }, "â€¢ Custom Domain (scientistmesh.com)"),
346|                                    React.createElement('li', { key: "ssl" }, "â€¢ HTTPS SSL Certificate"),
347|                                    React.createElement('li', { key: "mobile" }, "â€¢ Mobile Responsive Design")
348|                                ])
349|                            ])
350|                        ])
351|                    ])
352|                ])
353|            );
354|        };
355|
356|        // Footer Component
357|        const Footer = () => {
358|            return React.createElement('footer', { className: "bg-gray-900 text-white py-12" },
359|                React.createElement('div', { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center" }, [
360|                    React.createElement('h3', { className: "text-2xl font-bold mb-4", key: "title" }, "ScientistMesh"),
361|                    React.createElement('p', { className: "text-gray-400 mb-6", key: "subtitle" }, "AI-Powered Job Matching for Certified Professionals"),
362|                    React.createElement('div', { className: "flex justify-center space-x-6 mb-8", key: "links" }, [
363|                        React.createElement('a', { href: "#", className: "text-gray-400 hover:text-white transition-colors" }, "About"),
364|                        React.createElement('a', { href: "#", className: "text-gray-400 hover:text-white transition-colors" }, "Features"),
365|                        React.createElement('a', { href: "#", className: "text-gray-400 hover:text-white transition-colors" }, "Pricing"),
366|                        React.createElement('a', { href: "#", className: "text-gray-400 hover:text-white transition-colors" }, "Contact")
367|                    ]),
368|                    React.createElement('p', { className: "text-gray-500 text-sm", key: "copyright" }, "Â© 2025 ScientistMesh. All rights reserved. Built for certified professionals.")
369|                ])
370|            );
371|        };
372|
373|        // Auth Modal Component  
374|        const AuthModal = ({ mode, onClose, onSuccess, onSwitchMode }) => {
375|            const [formData, setFormData] = React.useState({
376|                email: '',
377|                password: '',
378|                confirmPassword: '',
379|                full_name: '',
380|                user_type: 'worker'
381|            });
382|            const [loading, setLoading] = React.useState(false);
383|            const [errors, setErrors] = React.useState({});
384|            const [showVerification, setShowVerification] = React.useState(false);
385|
386|            const handleSubmit = async (e) => {
387|                e.preventDefault();
388|                setLoading(true);
389|                setErrors({});
390|
391|                try {
392|                    const endpoint = mode === 'login' ? '/auth/login' : '/auth/register-enhanced';
393|                    const response = await axios.post(BACKEND_URL + endpoint, formData);
394|                    
395|                    if (response.data.access_token) {
396|                        onSuccess(response.data);
397|                    } else if (response.data.email_verification_required) {
398|                        setShowVerification(true);
399|                    }
400|                } catch (error) {
401|                    if (error.response?.data?.detail) {
402|                        setErrors({ general: error.response.data.detail });
403|                    } else {
404|                        setErrors({ general: `${mode === 'login' ? 'Login' : 'Registration'} failed. Please try again.` });
405|                    }
406|                } finally {
407|                    setLoading(false);
408|                }
409|            };
410|
411|            if (showVerification) {
412|                return React.createElement(EmailVerificationModal, {
413|                    email: formData.email,
414|                    onSuccess: onSuccess,
415|                    onClose: onClose
416|                });
417|            }
418|
419|            return React.createElement('div', { 
420|                className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",
421|                onClick: (e) => e.target === e.currentTarget && onClose()
422|            },
423|                React.createElement('div', { className: "bg-white rounded-xl shadow-2xl p-8 max-w-md w-full max-h-[90vh] overflow-y-auto" }, [
424|                    React.createElement('div', { className: "flex justify-between items-center mb-6", key: "header" }, [
425|                        React.createElement('h2', { className: "text-2xl font-bold text-gray-900" }, 
426|                            mode === 'login' ? 'Welcome Back' : 'Join ScientistMesh'
427|                        ),
428|                        React.createElement('button', {
429|                            onClick: onClose,
430|                            className: "text-gray-400 hover:text-gray-600"
431|                        }, "âœ•")
432|                    ]),
433|
434|                    React.createElement('form', { onSubmit: handleSubmit, key: "form" }, [
435|                        // Email
436|                        React.createElement('div', { className: "mb-4", key: "email" }, [
437|                            React.createElement('label', { className: "block text-sm font-medium text-gray-700 mb-2" }, "Email"),
438|                            React.createElement('input', {
439|                                type: "email",
440|                                value: formData.email,
441|                                onChange: (e) => setFormData({...formData, email: e.target.value}),
442|                                className: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",
443|                                placeholder: "your@email.com",
444|                                required: true
445|                            })
446|                        ]),
447|
448|                        // Full Name (Register only)
449|                        mode === 'register' && React.createElement('div', { className: "mb-4", key: "name" }, [
450|                            React.createElement('label', { className: "block text-sm font-medium text-gray-700 mb-2" }, "Full Name"),
451|                            React.createElement('input', {
452|                                type: "text",
453|                                value: formData.full_name,
454|                                onChange: (e) => setFormData({...formData, full_name: e.target.value}),
455|                                className: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",
456|                                placeholder: "John Smith",
457|                                required: true
458|                            })
459|                        ]),
460|
461|                        // Password
462|                        React.createElement('div', { className: "mb-4", key: "password" }, [
463|                            React.createElement('label', { className: "block text-sm font-medium text-gray-700 mb-2" }, "Password"),
464|                            React.createElement('input', {
465|                                type: "password",
466|                                value: formData.password,
467|                                onChange: (e) => setFormData({...formData, password: e.target.value}),
468|                                className: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",
469|                                placeholder: "Enter your password",
470|                                required: true
471|                            })
472|                        ]),
473|
474|                        // Confirm Password (Register only)
475|                        mode === 'register' && React.createElement('div', { className: "mb-6", key: "confirm-password" }, [
476|                            React.createElement('label', { className: "block text-sm font-medium text-gray-700 mb-2" }, "Confirm Password"),
477|                            React.createElement('input', {
478|                                type: "password",
479|                                value: formData.confirmPassword,
480|                                onChange: (e) => setFormData({...formData, confirmPassword: e.target.value}),
481|                                className: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",
482|                                placeholder: "Repeat your password",
483|                                required: true
484|                            })
485|                        ]),
486|
487|                        // Error Display
488|                        errors.general && React.createElement('div', { className: "mb-4 p-3 bg-red-50 border border-red-200 rounded-lg", key: "error" },
489|                            React.createElement('p', { className: "text-red-600 text-sm" }, errors.general)
490|                        ),
491|
492|                        // Submit Button
493|                        React.createElement('button', {
494|                            type: "submit",
495|                            disabled: loading,
496|                            className: `w-full py-3 px-4 rounded-lg font-semibold transition-all ${loading ? 'bg-gray-300 text-gray-500' : 'bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:shadow-lg'}`,
497|                            key: "submit"
498|                        }, loading ? (mode === 'login' ? 'Signing In...' : 'Creating Account...') : (mode === 'login' ? 'Sign In' : 'Create Account')),
499|
500|                        // Switch Mode
501|                        React.createElement('div', { className: "mt-6 text-center", key: "switch" },
502|                            React.createElement('p', { className: "text-sm text-gray-600" }, 
503|                                mode === 'login' ? "Don't have an account? " : "Already have an account? ",
504|                                React.createElement('button', {
505|                                    type: "button",
506|                                    onClick: () => onSwitchMode(mode === 'login' ? 'register' : 'login'),
507|                                    className: "text-blue-600 hover:text-blue-700 font-semibold"
508|                                }, mode === 'login' ? 'Sign up' : 'Sign in')
509|                            )
510|                        )
511|                    ])
512|                ])
513|            );
514|        };
515|
516|        // Email Verification Modal
517|        const EmailVerificationModal = ({ email, onSuccess, onClose }) => {
518|            const [code, setCode] = React.useState('');
519|            const [loading, setLoading] = React.useState(false);
520|            const [sending, setSending] = React.useState(false);
521|            const [timeLeft, setTimeLeft] = React.useState(120); // 2 minutes
522|
523|            React.useEffect(() => {
524|                // Send verification code on mount
525|                sendCode();
526|                
527|                // Start countdown
528|                const timer = setInterval(() => {
529|                    setTimeLeft(prev => prev > 0 ? prev - 1 : 0);
530|                }, 1000);
531|                
532|                return () => clearInterval(timer);
533|            }, []);
534|
535|            const sendCode = async () => {
536|                setSending(true);
537|                try {
538|                    await axios.post(BACKEND_URL + '/auth/send-verification', { email });
539|                    alert('âœ‰ï¸ Verification code sent to your email! Check your inbox (and spam folder).');
540|                } catch (error) {
541|                    alert('âŒ Failed to send verification code. Please try again.');
542|                } finally {
543|                    setSending(false);
544|                }
545|            };
546|
547|            const verifyCode = async () => {
548|                if (code.length !== 6) return;
549|                
550|                setLoading(true);
551|                try {
552|                    const response = await axios.post(BACKEND_URL + '/auth/verify-email', { 
553|                        email, 
554|                        verification_code: code 
555|                    });
556|                    alert('ðŸŽ‰ Email verified successfully!');
557|                    onSuccess(response.data);
558|                } catch (error) {
559|                    alert('âŒ Invalid verification code. Please try again.');
560|                } finally {
561|                    setLoading(false);
562|                }
563|            };
564|
565|            return React.createElement('div', { 
566|                className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"
567|            },
568|                React.createElement('div', { className: "bg-white rounded-xl shadow-2xl p-8 max-w-md w-full" }, [
569|                    React.createElement('div', { className: "text-center mb-6", key: "header" }, [
570|                        React.createElement('div', { className: "w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4" },
571|                            React.createElement('span', { className: "text-2xl" }, "âœ‰ï¸")
572|                        ),
573|                        React.createElement('h2', { className: "text-2xl font-bold text-gray-900 mb-2" }, "Verify Your Email"),
574|                        React.createElement('p', { className: "text-gray-600" }, `We sent a code to ${email}`)
575|                    ]),
576|
577|                    React.createElement('div', { className: "space-y-4", key: "form" }, [
578|                        React.createElement('div', { key: "input" }, [
579|                            React.createElement('label', { className: "block text-sm font-medium text-gray-700 mb-2" }, "Enter 6-digit code"),
580|                            React.createElement('input', {
581|                                type: "text",
582|                                value: code,
583|                                onChange: (e) => setCode(e.target.value.replace(/\D/g, '').slice(0, 6)),
584|                                className: "w-full px-4 py-3 border border-gray-300 rounded-lg text-center text-xl font-mono tracking-widest",
585|                                placeholder: "123456",
586|                                maxLength: 6
587|                            }),
588|                            timeLeft > 0 && React.createElement('p', { className: "text-xs text-gray-500 mt-1 text-center" },
589|                                `Code expires in ${Math.floor(timeLeft/60)}:${(timeLeft%60).toString().padStart(2, '0')}`
590|                            )
591|                        ]),
592|
593|                        React.createElement('button', {
594|                            onClick: verifyCode,
595|                            disabled: loading || code.length !== 6,
596|                            className: `w-full py-3 px-4 rounded-lg font-semibold transition-all ${
597|                                loading || code.length !== 6 
598|                                    ? 'bg-gray-300 text-gray-500' 
599|                                    : 'bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:shadow-lg'
600|                            }`,
601|                            key: "verify"
602|                        }, loading ? 'Verifying...' : 'Verify Email'),
603|
604|                        React.createElement('div', { className: "text-center", key: "resend" }, [
605|                            React.createElement('p', { className: "text-sm text-gray-600 mb-2" }, "Didn't receive the code?"),
606|                            React.createElement('button', {
607|                                onClick: sendCode,
608|                                disabled: sending || timeLeft > 60,
609|                                className: "text-blue-600 hover:text-blue-700 font-medium text-sm"
610|                            }, sending ? 'Sending...' : 'Resend Code')
611|                        ]),
612|
613|                        React.createElement('button', {
614|                            onClick: onClose,
615|                            className: "w-full text-gray-500 hover:text-gray-700 text-sm",
616|                            key: "close"
617|                        }, "Skip for now")
618|                    ])
619|                ])
620|            );
621|        };
622|
623|        // AI Chat Modal (Simplified)
624|        const AIChatModal = ({ user, onClose }) => {
625|            const [message, setMessage] = React.useState('');
626|            const [chatHistory, setChatHistory] = React.useState([
627|                { role: 'assistant', content: `Hi ${user?.full_name || 'there'}! I'm your AI career assistant. I can help you discover high-paying opportunities with your skills. What type of work are you interested in?` }
628|            ]);
629|            const [loading, setLoading] = React.useState(false);
630|
631|            const sendMessage = async () => {
632|                if (!message.trim()) return;
633|
634|                const userMessage = { role: 'user', content: message };
635|                setChatHistory(prev => [...prev, userMessage]);
636|                setMessage('');
637|                setLoading(true);
638|
639|                try {
640|                    const response = await axios.post(BACKEND_URL + '/ai/chat', {
641|                        message: message,
642|                        user_context: {
643|                            user_type: user?.user_type || 'worker',
644|                            skills: user?.skills || []
645|                        }
646|                    }, {
647|                        headers: {
648|                            'Authorization': `Bearer ${localStorage.getItem('token')}`
649|                        }
650|                    });
651|
652|                    const assistantMessage = { 
653|                        role: 'assistant', 
654|                        content: response.data.response || "I'm here to help you find better opportunities! Tell me about your skills and experience."
655|                    };
656|                    setChatHistory(prev => [...prev, assistantMessage]);
657|                } catch (error) {
658|                    const errorMessage = { 
659|                        role: 'assistant', 
660|                        content: "I'm having trouble connecting right now, but I can still help! What skills do you have? I can suggest how to earn more with certifications and better job opportunities."
661|                    };
662|                    setChatHistory(prev => [...prev, errorMessage]);
663|                } finally {
664|                    setLoading(false);
665|                }
666|            };
667|
668|            return React.createElement('div', { 
669|                className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"
670|            },
671|                React.createElement('div', { className: "bg-white rounded-xl shadow-2xl w-full max-w-2xl h-[600px] flex flex-col" }, [
672|                    // Header
673|                    React.createElement('div', { className: "flex justify-between items-center p-6 border-b", key: "header" }, [
674|                        React.createElement('h2', { className: "text-xl font-bold text-gray-900" }, "ðŸ¤– AI Career Assistant"),
675|                        React.createElement('button', {
676|                            onClick: onClose,
677|                            className: "text-gray-400 hover:text-gray-600"
678|                        }, "âœ•")
679|                    ]),
680|
681|                    // Chat History
682|                    React.createElement('div', { 
683|                        className: "flex-1 overflow-y-auto p-6 space-y-4",
684|                        key: "chat"
685|                    }, 
686|                        chatHistory.map((msg, index) =>
687|                            React.createElement('div', { 
688|                                className: `flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`,
689|                                key: index
690|                            },
691|                                React.createElement('div', { 
692|                                    className: `max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${
693|                                        msg.role === 'user' 
694|                                            ? 'bg-blue-600 text-white' 
695|                                            : 'bg-gray-100 text-gray-900'
696|                                    }`
697|                                }, msg.content)
698|                            )
699|                        )
700|                    ),
701|
702|                    // Input
703|                    React.createElement('div', { className: "border-t p-4", key: "input" },
704|                        React.createElement('div', { className: "flex space-x-2" }, [
705|                            React.createElement('input', {
706|                                type: "text",
707|                                value: message,
708|                                onChange: (e) => setMessage(e.target.value),
709|                                onKeyPress: (e) => e.key === 'Enter' && sendMessage(),
710|                                placeholder: "Ask about jobs, skills, or career opportunities...",
711|                                className: "flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",
712|                                key: "message-input"
713|                            }),
714|                            React.createElement('button', {
715|                                onClick: sendMessage,
716|                                disabled: loading || !message.trim(),
717|                                className: `px-6 py-2 rounded-lg font-semibold transition-all ${
718|                                    loading || !message.trim()
719|                                        ? 'bg-gray-300 text-gray-500'
720|                                        : 'bg-blue-600 text-white hover:bg-blue-700'
721|                                }`,
722|                                key: "send-button"
723|                            }, loading ? '...' : 'Send')
724|                        ])
725|                    )
726|                ])
727|            );
728|        };
729|
730|        // Render the app
731|        ReactDOM.render(React.createElement(App), document.getElementById('root'));
732|    </script>
733|</body>
734|</html>


